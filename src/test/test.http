### 1) JWT Token OWNER (mathias)
POST http://localhost:8180/realms/moko/protocol/openid-connect/token
Content-Type: application/x-www-form-urlencoded

grant_type = password &
client_id = store-service &
client_secret = x3vC0sYqQgIqDaRqqTBNQIUCakxE6ghC &
username = mathias &
password = loginmathias &
scope = openid

> {%
    client.global.set("owner_token", response.body.access_token);
%}



### 2) Create store entry (game must exist in game-service)
POST http://localhost:8085/api/store/gamesRepository
Authorization: Bearer {{owner_token}}
Content-Type: application/json

{
  "id": "00000000-0000-0000-0000-000000000001",
  "price": 14.99,
  "category": "STRATEGY",
  "popularity": 5
}

> {%
    client.global.set("catalog_game_id", response.body.id);
%}



### 3) GET store entry by ID

GET http://localhost:8085/api/store/gamesRepository/{{catalog_game_id}}
Authorization: Bearer {{owner_token}}



### 4) GET list of store entries (no filters)
GET http://localhost:8085/api/store/gamesRepository
Authorization: Bearer {{owner_token}}



### 5) GET list of store entries with filters
GET http://localhost:8085/api/store/gamesRepository?category=STRATEGY&minPrice=10&maxPrice=30&sort=alphabetic
Authorization: Bearer {{owner_token}}


### 6) UPDATE store entry
PUT http://localhost:8085/api/store/gamesRepository/{{catalog_game_id}}
Authorization: Bearer {{owner_token}}
Content-Type: application/json

{
  "id": "{{catalog_game_id}}",
  "price": 9.99,
  "category": "CARD",
  "popularity": 999
}

### 7) GET updated store entry

GET http://localhost:8085/api/store/gamesRepository/{{catalog_game_id}}
Authorization: Bearer {{owner_token}}


### 8) DELETE store entry
DELETE http://localhost:8085/api/store/gamesRepository/{{catalog_game_id}}
Authorization: Bearer {{owner_token}}


### 9) GET deleted entry → Expect 404
GET http://localhost:8085/api/store/gamesRepository/{{catalog_game_id}}
Authorization: Bearer {{owner_token}}


### 10) ERROR scenario — Game-service unreachable or invalid ID
POST http://localhost:8085/api/store/gamesRepository
Authorization: Bearer {{owner_token}}
Content-Type: application/json

{
  "id": "aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa",
  "price": 19.99,
  "category": "FAMILY"
}